<map version="freeplane 1.7.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="kubernetes" FOLDED="false" ID="ID_1397660565" CREATED="1583714882548" MODIFIED="1583714890197" STYLE="oval">
<font SIZE="18"/>
<hook NAME="MapStyle">
    <properties fit_to_viewport="false" edgeColorConfiguration="#808080ff,#ff0000ff,#0000ffff,#00ff00ff,#ff00ffff,#00ffffff,#7c0000ff,#00007cff,#007c00ff,#7c007cff,#007c7cff,#7c7c00ff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#000000" STYLE="fork">
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#000000" BACKGROUND_COLOR="#ffffff" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#000000" STYLE="oval" SHAPE_HORIZONTAL_MARGIN="10.0 pt" SHAPE_VERTICAL_MARGIN="10.0 pt">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#0033ff">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#00b439">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#990000">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#111111">
<font SIZE="10"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10"/>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11"/>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="AutomaticEdgeColor" COUNTER="13" RULE="ON_BRANCH_CREATION"/>
<node TEXT="concepts" POSITION="right" ID="ID_936957173" CREATED="1583714904418" MODIFIED="1583714910009">
<edge COLOR="#ff0000"/>
<node TEXT="kubernetes objects" ID="ID_244387449" CREATED="1583714910830" MODIFIED="1583714918834">
<node TEXT="record of intent" ID="ID_1047899321" CREATED="1583714919170" MODIFIED="1583714925665"/>
<node TEXT="desired state of application" ID="ID_244271323" CREATED="1583714942010" MODIFIED="1583714963121"/>
<node TEXT="spec" ID="ID_1550943760" CREATED="1583714963499" MODIFIED="1583714967038"/>
<node TEXT="status" ID="ID_1552530795" CREATED="1583714967390" MODIFIED="1583714970161"/>
<node TEXT="interact w/ kubectl or client libraries" ID="ID_512434796" CREATED="1583714979637" MODIFIED="1583715002203"/>
<node TEXT="usually described in .yaml" ID="ID_1870641413" CREATED="1583714925996" MODIFIED="1583715254658">
<node TEXT="required" ID="ID_902965966" CREATED="1583715476666" MODIFIED="1583715485951">
<node TEXT="apiVersion" ID="ID_1854904482" CREATED="1583715487858" MODIFIED="1583715497792"/>
<node TEXT="kind" ID="ID_1709513841" CREATED="1583715498102" MODIFIED="1583715499462"/>
<node TEXT="metadata" ID="ID_516380051" CREATED="1583715499768" MODIFIED="1583715503192"/>
<node TEXT="spec" ID="ID_548776627" CREATED="1583715503731" MODIFIED="1583715505089"/>
</node>
</node>
<node TEXT="management techniques" ID="ID_1052857455" CREATED="1583715648907" MODIFIED="1583715671196">
<node TEXT="imperative command" ID="ID_1155004666" CREATED="1583715671532" MODIFIED="1583715756851">
<node TEXT="kubectl run nginx --image nginx" ID="ID_535982152" CREATED="1583715976001" MODIFIED="1583716050717"/>
</node>
<node TEXT="imperative object configuration" ID="ID_721239441" CREATED="1583715757227" MODIFIED="1583715765249">
<node TEXT="using yaml or json to describe the object" ID="ID_375820358" CREATED="1583716067192" MODIFIED="1583716085436"/>
<node TEXT="kubectl create -f nginx.yaml" ID="ID_939013767" CREATED="1583716031650" MODIFIED="1583716046483"/>
<node TEXT="kubectl delete -f nginx.yaml -f redis.yaml" ID="ID_1528277294" CREATED="1583716095742" MODIFIED="1583716112219"/>
<node TEXT="kubectl replace -f nginx.yaml" ID="ID_684772786" CREATED="1583716115737" MODIFIED="1583716126064"/>
</node>
<node TEXT="declarative object configuration" ID="ID_1565786763" CREATED="1583715678525" MODIFIED="1583715778220">
<node TEXT="no create/update/delete to specify" ID="ID_114571546" CREATED="1583716526003" MODIFIED="1583716547350"/>
<node TEXT="works on directory" ID="ID_529451136" CREATED="1583716547610" MODIFIED="1583716552813"/>
<node TEXT="sample" ID="ID_1589580691" CREATED="1583716553028" MODIFIED="1583716557315">
<node TEXT="kubectl diff -R -f configs/" ID="ID_599294118" CREATED="1583716557582" MODIFIED="1583716567401"/>
<node TEXT="kubectl apply -R -f configs/" ID="ID_39072994" CREATED="1583716567639" MODIFIED="1583716574009"/>
</node>
</node>
</node>
</node>
<node TEXT="high level concepts" ID="ID_401634646" CREATED="1583715271590" MODIFIED="1583715281041">
<node TEXT="deployment" ID="ID_81316205" CREATED="1583715303285" MODIFIED="1583715308630"/>
<node TEXT="replicaset" ID="ID_1767557566" CREATED="1583715308844" MODIFIED="1583715315519"/>
<node TEXT="statefulset" ID="ID_259280576" CREATED="1583715315849" MODIFIED="1583715320193"/>
<node TEXT="custom resource definition" ID="ID_1071139901" CREATED="1592276866524" MODIFIED="1592276875897"/>
</node>
<node TEXT="low level concepts" ID="ID_1944475556" CREATED="1583715281393" MODIFIED="1583715286233">
<node TEXT="pod" ID="ID_284420851" CREATED="1583715288440" MODIFIED="1583715290085">
<node TEXT="a collection of collaborative containers share network, IPC, storage etc" ID="ID_996290312" CREATED="1584073231127" MODIFIED="1584073286435"/>
<node TEXT="pattens" ID="ID_670694199" CREATED="1584073288803" MODIFIED="1584073295431">
<node TEXT="single" ID="ID_1567572618" CREATED="1584073295738" MODIFIED="1584073298011"/>
<node TEXT="multiple" ID="ID_972615154" CREATED="1584073298362" MODIFIED="1584073308308"/>
</node>
<node TEXT="life cycle" ID="ID_502557742" CREATED="1584073310052" MODIFIED="1584073317114">
<node TEXT="phase" ID="ID_1005090535" CREATED="1584073337657" MODIFIED="1584073341185">
<node TEXT="Pending" ID="ID_456564809" CREATED="1584073344849" MODIFIED="1584073353953"/>
<node TEXT="Running" ID="ID_595603723" CREATED="1584073354279" MODIFIED="1584073359265"/>
<node TEXT="Succeeded" ID="ID_1772518394" CREATED="1584073359984" MODIFIED="1584073367109"/>
<node TEXT="Failed" ID="ID_1733602324" CREATED="1584073367322" MODIFIED="1584073369031"/>
<node TEXT="Unknown" ID="ID_155774449" CREATED="1584073369405" MODIFIED="1584073372645"/>
</node>
<node TEXT="condition" ID="ID_1459158239" CREATED="1584073341443" MODIFIED="1584073343561">
<node TEXT="attributes" ID="ID_628122902" CREATED="1584073397069" MODIFIED="1584073402261">
<node TEXT="lastProbeTime" ID="ID_685608734" CREATED="1584073402432" MODIFIED="1584073409908"/>
<node TEXT="lastTransitionTime" ID="ID_946969518" CREATED="1584073410144" MODIFIED="1584073417572"/>
<node TEXT="message" ID="ID_14197635" CREATED="1584073417829" MODIFIED="1584073423581"/>
<node TEXT="reason" ID="ID_1410551028" CREATED="1584073423885" MODIFIED="1584073427527"/>
<node TEXT="status" ID="ID_1928076967" CREATED="1584073428177" MODIFIED="1584073430314">
<node TEXT="True" ID="ID_913040703" CREATED="1584073430558" MODIFIED="1584073435409"/>
<node TEXT="False" ID="ID_838590071" CREATED="1584073435851" MODIFIED="1584073437345"/>
<node TEXT="Unknown" ID="ID_581640003" CREATED="1584073437556" MODIFIED="1584073444355"/>
</node>
<node TEXT="type" ID="ID_1250932305" CREATED="1584073448140" MODIFIED="1584073450630">
<node TEXT="PodScheduled" ID="ID_1257131891" CREATED="1584073454246" MODIFIED="1584073465199"/>
<node TEXT="Ready" ID="ID_279141297" CREATED="1584073465689" MODIFIED="1584073468590"/>
<node TEXT="Initialized" ID="ID_628296811" CREATED="1584073469057" MODIFIED="1584073475298"/>
<node TEXT="ContainerReady" ID="ID_717433902" CREATED="1584073475601" MODIFIED="1584073481866"/>
</node>
</node>
</node>
<node TEXT="probe" ID="ID_29221616" CREATED="1584073755672" MODIFIED="1584073768635">
<node TEXT="handlers" ID="ID_701529730" CREATED="1584073553578" MODIFIED="1584073772057">
<node TEXT="ExecAction" ID="ID_588992336" CREATED="1584073557406" MODIFIED="1584073561530"/>
<node TEXT="TCPSocketAction" ID="ID_27426983" CREATED="1584073561695" MODIFIED="1584073569307"/>
<node TEXT="HTTPGetAction" ID="ID_586474591" CREATED="1584073569657" MODIFIED="1584073574073"/>
</node>
<node TEXT="types" ID="ID_1522145576" CREATED="1584073778099" MODIFIED="1584073780555">
<node TEXT="liveness" ID="ID_1210628955" CREATED="1584073781096" MODIFIED="1584074037951">
<node TEXT="best w/ restartPolicy=Always,onFailure" ID="ID_1665987870" CREATED="1584074035736" MODIFIED="1584074073180"/>
</node>
<node TEXT="readiness" ID="ID_928943791" CREATED="1584073790410" MODIFIED="1584073794778">
<node TEXT="application startup takes time" ID="ID_799107785" CREATED="1584074076470" MODIFIED="1584074086676"/>
</node>
<node TEXT="startup" ID="ID_326076761" CREATED="1584073795037" MODIFIED="1584073801376"/>
</node>
</node>
<node TEXT="container state" ID="ID_1915599069" CREATED="1584074275361" MODIFIED="1584074278637">
<node TEXT="waiting" ID="ID_1019433534" CREATED="1584074278851" MODIFIED="1584074291459"/>
<node TEXT="running" ID="ID_1080906162" CREATED="1584074291625" MODIFIED="1584074293220"/>
<node TEXT="terminated" ID="ID_843998783" CREATED="1584074293662" MODIFIED="1584074307571"/>
</node>
</node>
<node TEXT="pod preset" ID="ID_408374774" CREATED="1584077279504" MODIFIED="1584077288677">
<node TEXT="predefined volume, env, configMap, secret etc" ID="ID_65621778" CREATED="1584077291891" MODIFIED="1584077333232"/>
<node TEXT="inject into pod matching given label" ID="ID_552232192" CREATED="1584077336747" MODIFIED="1584077378611"/>
<node TEXT="immune to injection" ID="ID_1179332959" CREATED="1584077379101" MODIFIED="1584077399408">
<node TEXT="podpreset.admision.kubernetes.io/exclude: &quot;true&quot;" ID="ID_1189859421" CREATED="1584077400942" MODIFIED="1584077435774"/>
</node>
<node TEXT="config api-server to enable this feature" ID="ID_1766823826" CREATED="1584077662094" MODIFIED="1584077687963"/>
</node>
</node>
<node TEXT="volume" ID="ID_1903149773" CREATED="1583715290415" MODIFIED="1583715294720"/>
<node TEXT="namespace" ID="ID_398839010" CREATED="1583715295118" MODIFIED="1583716692100"/>
</node>
</node>
<node TEXT="cluster" POSITION="right" ID="ID_1611918863" CREATED="1583805441559" MODIFIED="1583805450034">
<edge COLOR="#00007c"/>
<node TEXT="node" ID="ID_596551020" CREATED="1583805452009" MODIFIED="1583805453479">
<node TEXT="components" ID="ID_1147357867" CREATED="1583805693868" MODIFIED="1583805701524">
<node TEXT="container runtime" ID="ID_1589213046" CREATED="1583805701722" MODIFIED="1583805707374"/>
<node TEXT="kubelet" ID="ID_1953788947" CREATED="1583805707841" MODIFIED="1583805712264"/>
<node TEXT="kube-proxy" ID="ID_1344040620" CREATED="1583805712430" MODIFIED="1583805721900"/>
</node>
<node TEXT="status" ID="ID_1596074544" CREATED="1583805724284" MODIFIED="1583805727023">
<node TEXT="addresses" ID="ID_1689345585" CREATED="1583805727242" MODIFIED="1583805731548">
<node TEXT="HostName" ID="ID_1747362996" CREATED="1583805898274" MODIFIED="1583805901271"/>
<node TEXT="ExternalIP" ID="ID_363224101" CREATED="1583805901715" MODIFIED="1583805905725"/>
<node TEXT="InternalIP" ID="ID_925877844" CREATED="1583805906056" MODIFIED="1583805909138"/>
</node>
<node TEXT="conditions" ID="ID_1619605436" CREATED="1583805731830" MODIFIED="1583805737538">
<node TEXT="Ready" ID="ID_1995459255" CREATED="1583805934277" MODIFIED="1583805937358">
<node TEXT="Unknown or False last for more than pod-eviction-timeout(5mins by default), then pods on the unhealthy node will be rescheduled to other nodes" ID="ID_1827226563" CREATED="1583806348158" MODIFIED="1583806422673"/>
</node>
<node TEXT="MemoryPressure" ID="ID_1761479535" CREATED="1583805938032" MODIFIED="1583805943024"/>
<node TEXT="PIDPressure" ID="ID_587682027" CREATED="1583805943353" MODIFIED="1583805947328"/>
<node TEXT="DiskPressure" ID="ID_113621465" CREATED="1583805947610" MODIFIED="1583805956529"/>
<node TEXT="NetworkUnavailable" ID="ID_714584456" CREATED="1583805956927" MODIFIED="1583805979228"/>
</node>
<node TEXT="capacity and allocatable" ID="ID_1098700590" CREATED="1583805741238" MODIFIED="1583805753539"/>
<node TEXT="info" ID="ID_1207815416" CREATED="1583805754076" MODIFIED="1583805755021">
<node TEXT="general info like kernel version, kubernetes version, docker version, OS name" ID="ID_1844297149" CREATED="1583807612152" MODIFIED="1583807644828"/>
</node>
<node TEXT="kubetl describe node &lt;slave-1&gt;" ID="ID_449660771" CREATED="1583805783734" MODIFIED="1583805798545"/>
</node>
<node TEXT="taint" ID="ID_1591597800" CREATED="1583807338569" MODIFIED="1583807606062"/>
<node TEXT="create node" ID="ID_1490699849" CREATED="1583807865183" MODIFIED="1583807883152">
<node TEXT="{&#xa;  &quot;kind&quot;: &quot;Node&quot;,&#xa;  &quot;apiVersion&quot;: &quot;v1&quot;,&#xa;  &quot;metadata&quot;: {&#xa;    &quot;name&quot;: &quot;10.240.79.157&quot;,&#xa;    &quot;labels&quot;: {&#xa;      &quot;name&quot;: &quot;my-first-k8s-node&quot;&#xa;    }&#xa;  }&#xa;}" ID="ID_1508747045" CREATED="1583807889579" MODIFIED="1583807893974"/>
</node>
<node TEXT="node controller" ID="ID_1072882513" CREATED="1583807941586" MODIFIED="1583807947884">
<node TEXT="assign CIDR to node" ID="ID_1141522057" CREATED="1583807948148" MODIFIED="1583807981020"/>
<node TEXT="check node status every  --node-monitor-period" ID="ID_1604181322" CREATED="1583807981625" MODIFIED="1583808144354"/>
<node TEXT="heartbeat" ID="ID_333238980" CREATED="1583808348540" MODIFIED="1583808358899">
<node TEXT="NodeStatus" ID="ID_1329535608" CREATED="1583808352630" MODIFIED="1583808362528">
<node TEXT="every 5mins" ID="ID_1816703280" CREATED="1583808447163" MODIFIED="1583808460421"/>
</node>
<node TEXT="Lease object" ID="ID_1071783969" CREATED="1583808363019" MODIFIED="1583808369713">
<node TEXT="every 10seconds" ID="ID_52156298" CREATED="1583808468011" MODIFIED="1583808474468"/>
</node>
</node>
</node>
<node TEXT="self registration" ID="ID_904363341" CREATED="1583816946205" MODIFIED="1583816954530"/>
<node TEXT="make node unschedulable" ID="ID_1557532823" CREATED="1583817472888" MODIFIED="1583817484458">
<node TEXT="kubectl cordon &lt;node_name&gt;" ID="ID_1533961118" CREATED="1583817485119" MODIFIED="1583817499269"/>
</node>
<node TEXT="capacity" ID="ID_5122952" CREATED="1583817736772" MODIFIED="1583817741815">
<node TEXT="allocation doesn&apos;t take non-Pod process into account" ID="ID_1980495626" CREATED="1583817742381" MODIFIED="1583817794284"/>
</node>
</node>
</node>
<node TEXT="master-node communication" POSITION="right" ID="ID_1737391168" CREATED="1583818218083" MODIFIED="1583818228519">
<edge COLOR="#007c00"/>
<node TEXT="cluster to master" ID="ID_750602182" CREATED="1583818228691" MODIFIED="1583818234897">
<node TEXT="pod to master" ID="ID_455734319" CREATED="1583818250233" MODIFIED="1583818253813">
<node TEXT="kubernetes service" ID="ID_741321537" CREATED="1583818254795" MODIFIED="1583818267654"/>
<node TEXT="auto inject root certificate and bearer token" ID="ID_66420096" CREATED="1583818300395" MODIFIED="1583818323881"/>
</node>
</node>
<node TEXT="apiserver to kubelet" ID="ID_1344958823" CREATED="1583818235526" MODIFIED="1583818599014">
<node TEXT="fetching logs" ID="ID_1881416448" CREATED="1583818657168" MODIFIED="1583818664937"/>
<node TEXT="attaching to running pods" ID="ID_1154643487" CREATED="1583818665403" MODIFIED="1583818674152"/>
<node TEXT="port-forward" ID="ID_1061924038" CREATED="1583818674411" MODIFIED="1583818683443"/>
<node TEXT="non-validating by default" ID="ID_782701364" CREATED="1583818863278" MODIFIED="1583818874418"/>
</node>
<node TEXT="apiserver to node, pod or service" ID="ID_375683491" CREATED="1583818599315" MODIFIED="1583818628246">
<node TEXT="run over http" ID="ID_10597262" CREATED="1583818877617" MODIFIED="1583818886433"/>
</node>
</node>
<node TEXT="controller" POSITION="right" ID="ID_1155382126" CREATED="1583821262364" MODIFIED="1583821267280">
<edge COLOR="#7c007c"/>
<node TEXT="delegating to apiserver" ID="ID_1775085244" CREATED="1583821267659" MODIFIED="1583821279960">
<node TEXT="Job Controller" ID="ID_337718721" CREATED="1583821280409" MODIFIED="1583821288486"/>
</node>
<node TEXT="direct control" ID="ID_429482151" CREATED="1583821295883" MODIFIED="1583821302234">
<node TEXT="Node Controller" ID="ID_1829225281" CREATED="1583821302452" MODIFIED="1583821311756"/>
</node>
<node TEXT="built-in controller" ID="ID_180356457" CREATED="1583821354443" MODIFIED="1583821368228">
<node TEXT="managed by the kube-controller-manager" ID="ID_920950894" CREATED="1583821368469" MODIFIED="1583821382013"/>
<node TEXT="Job Controller" ID="ID_1099098282" CREATED="1583821382850" MODIFIED="1583821457455"/>
</node>
</node>
<node TEXT="components" POSITION="left" ID="ID_999158833" CREATED="1583715867431" MODIFIED="1583716715057">
<edge COLOR="#0000ff"/>
<node TEXT="control plane" ID="ID_315853103" CREATED="1583716723963" MODIFIED="1583716730449">
<node TEXT="api server(kube-apiserver)" ID="ID_1954233519" CREATED="1583716747738" MODIFIED="1583716790491"/>
<node TEXT="controller manager(kube-controller-manager)" ID="ID_621631814" CREATED="1583716752361" MODIFIED="1583716805733"/>
<node TEXT="scheduler(kube-scheduler)" ID="ID_915682520" CREATED="1583716772532" MODIFIED="1583716814990"/>
<node TEXT="etcd" ID="ID_1471817859" CREATED="1583716817863" MODIFIED="1583716819477"/>
</node>
<node TEXT="node" ID="ID_338390480" CREATED="1583716730757" MODIFIED="1583716736436">
<node TEXT="kubelet" ID="ID_1970425632" CREATED="1583716738296" MODIFIED="1583716742098"/>
<node TEXT="kubeproxy" ID="ID_1234278717" CREATED="1583716742342" MODIFIED="1583716746130"/>
<node TEXT="container runtime" ID="ID_1578767235" CREATED="1583716837082" MODIFIED="1583716843032"/>
</node>
<node TEXT="addons" ID="ID_1246022009" CREATED="1583716879005" MODIFIED="1583716881328">
<node TEXT="DNS" ID="ID_750101783" CREATED="1583716881802" MODIFIED="1583716884982"/>
<node TEXT="dashboard" ID="ID_1762348655" CREATED="1583716885430" MODIFIED="1583716896531"/>
<node TEXT="monitoring" ID="ID_1836589192" CREATED="1583716901668" MODIFIED="1583716906928"/>
<node TEXT="logging" ID="ID_1815828268" CREATED="1583716907165" MODIFIED="1583716909635"/>
</node>
</node>
<node TEXT="metadata" POSITION="left" ID="ID_5564480" CREATED="1583803218291" MODIFIED="1583803223458">
<edge COLOR="#00ffff"/>
<node TEXT="annotation" ID="ID_1526850146" CREATED="1583802403198" MODIFIED="1583803236589">
<node TEXT="non-identifying metadata" ID="ID_666410114" CREATED="1583802458531" MODIFIED="1583802467994"/>
<node TEXT="value can hold arbitrary data" ID="ID_157649385" CREATED="1583802654681" MODIFIED="1583802732906"/>
<node TEXT="key value pairs" ID="ID_444706595" CREATED="1583802814143" MODIFIED="1583802822344">
<node TEXT="key" ID="ID_1924441285" CREATED="1583802846426" MODIFIED="1583802848442">
<node TEXT="same as label key" ID="ID_668982910" CREATED="1583802849030" MODIFIED="1583802855915"/>
<node TEXT="prefix and name" ID="ID_453868587" CREATED="1583802858693" MODIFIED="1583802862220"/>
</node>
<node TEXT="value" ID="ID_630296954" CREATED="1583802865622" MODIFIED="1583802868006">
<node TEXT="arbitrary data" ID="ID_1791043308" CREATED="1583802942398" MODIFIED="1583802957209"/>
</node>
</node>
<node TEXT="sample" ID="ID_911582654" CREATED="1583802964132" MODIFIED="1583802973035">
<node TEXT="apiVersion: v1&#xa;kind: Pod&#xa;metadata:&#xa;  name: annotations-demo&#xa;  annotations:&#xa;    imageregistry: &quot;https://hub.docker.com/&quot;" ID="ID_1683213047" CREATED="1583802973347" MODIFIED="1583802991978"/>
</node>
</node>
<node TEXT="label" ID="ID_135691497" CREATED="1583800176320" MODIFIED="1583803240886">
<node TEXT="identifying attributes attached to kubernetes object" ID="ID_1184975122" CREATED="1583800182218" MODIFIED="1583800225465"/>
<node TEXT="key value" ID="ID_1882279622" CREATED="1583800225679" MODIFIED="1583800241547">
<node TEXT="key" ID="ID_306830196" CREATED="1583800242805" MODIFIED="1583800244771">
<node TEXT="prefix" ID="ID_351486157" CREATED="1583800352513" MODIFIED="1583800355803">
<node TEXT="intended for automation tool" ID="ID_543312639" CREATED="1583800397556" MODIFIED="1583800427029">
<node TEXT="kubernetes.io/" ID="ID_1763008529" CREATED="1583800427965" MODIFIED="1583800439862"/>
<node TEXT="k8s.io/" ID="ID_1164937880" CREATED="1583800440101" MODIFIED="1583800446497"/>
</node>
<node TEXT="no longer than 253, DNS subdomain" ID="ID_780963957" CREATED="1583800454219" MODIFIED="1583800527676"/>
</node>
<node TEXT="name" ID="ID_989960723" CREATED="1583800356018" MODIFIED="1583800363324">
<node TEXT="no more than 63 chars ^[\w-_.]?\w+[\w-_.]?$" ID="ID_1462686318" CREATED="1583800247153" MODIFIED="1583800349550"/>
</node>
</node>
<node TEXT="value" ID="ID_1049957242" CREATED="1583800245011" MODIFIED="1583800246724">
<node TEXT="no more than 63 chars ^[\w-_.]?\w+[\w-_.]?$" ID="ID_356512032" CREATED="1583800247153" MODIFIED="1583800349550"/>
</node>
</node>
<node TEXT="label selector" ID="ID_644812957" CREATED="1583800791512" MODIFIED="1583800798241">
<node TEXT="equality-based" ID="ID_512382118" CREATED="1583800798532" MODIFIED="1583800809553">
<node TEXT="operator: =,==,!=" ID="ID_1375461258" CREATED="1583801158612" MODIFIED="1583801169819"/>
<node TEXT="kubectl get pods -l environment=production,tier=frontend" ID="ID_719117703" CREATED="1583801614047" MODIFIED="1583801616905"/>
</node>
<node TEXT="set-based" ID="ID_1299048499" CREATED="1583800809742" MODIFIED="1583800814308">
<node TEXT="operator: in, notin, exists" ID="ID_1439974846" CREATED="1583801350548" MODIFIED="1583801365269"/>
<node TEXT="kubectl get pods -l &apos;environment in (production, qa)&apos;" ID="ID_662161267" CREATED="1583801627716" MODIFIED="1583801629752"/>
</node>
<node TEXT="general rule" ID="ID_1523036449" CREATED="1583801481737" MODIFIED="1583801484821">
<node TEXT="comma means AND(&amp;&amp;)" ID="ID_1503335238" CREATED="1583801172507" MODIFIED="1583801201864"/>
<node TEXT="absence of label usually means mismatch" ID="ID_1734514514" CREATED="1583801219400" MODIFIED="1583801244701"/>
</node>
<node TEXT="usage" ID="ID_557765357" CREATED="1583801661872" MODIFIED="1583801664002">
<node TEXT="high level object to reference level objects" ID="ID_235229492" CREATED="1583801664336" MODIFIED="1583801682886">
<node TEXT="service" ID="ID_435547742" CREATED="1583801683706" MODIFIED="1583801692657"/>
<node TEXT="replicaset" ID="ID_1580205502" CREATED="1583801692874" MODIFIED="1583801699779"/>
<node TEXT="statefulset" ID="ID_1630088779" CREATED="1583801700224" MODIFIED="1583801707939"/>
<node TEXT="old school" ID="ID_1178417500" CREATED="1583801961970" MODIFIED="1583801968903">
<node TEXT="equality-based" ID="ID_615540768" CREATED="1583801969608" MODIFIED="1583801980648"/>
<node TEXT="Service" ID="ID_945193064" CREATED="1583801986178" MODIFIED="1583802009283"/>
<node TEXT="ReplicationController" ID="ID_1150879138" CREATED="1583801989347" MODIFIED="1583802005712"/>
<node TEXT="selector:&#xa;    component: redis" ID="ID_989605033" CREATED="1583802127815" MODIFIED="1583802139602"/>
</node>
<node TEXT="new school" ID="ID_716386798" CREATED="1583802014510" MODIFIED="1583802035214">
<node TEXT="also support set-based" ID="ID_111962839" CREATED="1583802057192" MODIFIED="1583802071929"/>
<node TEXT="Job" ID="ID_466869169" CREATED="1583802035525" MODIFIED="1583802037365"/>
<node TEXT="Deployment" ID="ID_90188751" CREATED="1583802037624" MODIFIED="1583802040218"/>
<node TEXT="ReplicaSet" ID="ID_962681313" CREATED="1583802040455" MODIFIED="1583802044859"/>
<node TEXT="DaemonSet" ID="ID_1351570510" CREATED="1583802045099" MODIFIED="1583802048386"/>
<node TEXT="selector:&#xa;  matchLabels:&#xa;    component: redis&#xa;  matchExpressions:&#xa;    - {key: tier, operator: In, values: [cache]}&#xa;    - {key: environment, operator: NotIn, values: [dev]}" ID="ID_1061963912" CREATED="1583802113831" MODIFIED="1583802124125"/>
</node>
</node>
<node TEXT="list, watch specific object" ID="ID_945611654" CREATED="1583801711640" MODIFIED="1583801739869">
<node TEXT="-l" ID="ID_1663845588" CREATED="1583801740780" MODIFIED="1583801746297"/>
</node>
<node TEXT="make pod run on specific node" ID="ID_812518190" CREATED="1583801773578" MODIFIED="1583801798039">
<node TEXT="nodeSelector" ID="ID_1414616142" CREATED="1583801798466" MODIFIED="1583801802064"/>
</node>
</node>
</node>
</node>
<node TEXT="field selector" ID="ID_1534070513" CREATED="1583803260426" MODIFIED="1583803268559">
<node TEXT="select resource by field" ID="ID_13988602" CREATED="1583803269056" MODIFIED="1583803287854"/>
<node TEXT="sample" ID="ID_1524961668" CREATED="1583803303977" MODIFIED="1583803305907">
<node TEXT="kubectl get pods --field-selector status.phase=Running" ID="ID_1688766827" CREATED="1583803306381" MODIFIED="1583803309433"/>
</node>
<node TEXT="resource field" ID="ID_703196971" CREATED="1583803381211" MODIFIED="1583803388945">
<node TEXT="common field" ID="ID_1243778507" CREATED="1583803400696" MODIFIED="1583803407752">
<node TEXT="metadata.name" ID="ID_1748989028" CREATED="1583803407900" MODIFIED="1583803413674"/>
<node TEXT="metadata.namespace" ID="ID_1683224542" CREATED="1583803413864" MODIFIED="1583803419421"/>
</node>
<node TEXT="using unsupported field selector causes error" ID="ID_597706149" CREATED="1583803438175" MODIFIED="1583803467877"/>
</node>
<node TEXT="supported operator =,==,!=" ID="ID_1707089741" CREATED="1583803633508" MODIFIED="1583803659648"/>
<node TEXT="multiple selector can be used at the same time" ID="ID_385475255" CREATED="1583803566392" MODIFIED="1583803592691"/>
<node TEXT="resource share same field can be queried at the same time" ID="ID_1870416778" CREATED="1583803601536" MODIFIED="1583803624038"/>
</node>
</node>
<node TEXT="container runtime" POSITION="left" ID="ID_202644957" CREATED="1583973990791" MODIFIED="1583973996587">
<edge COLOR="#007c7c"/>
<node TEXT="cgroup driver" ID="ID_862074545" CREATED="1583974061069" MODIFIED="1583974068616">
<node TEXT="run container runtime under systemd cgroups for better resource accounting" ID="ID_1627032847" CREATED="1583974522703" MODIFIED="1583974551080"/>
</node>
<node TEXT="docker" ID="ID_1384256339" CREATED="1583974228772" MODIFIED="1583974230727">
<node TEXT="cat &gt; /etc/docker/daemon.json &lt;&lt;EOF&#xa;{&#xa;  &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;],&#xa;  &quot;storage-driver&quot;: &quot;overlay2&quot;&#xa;}&#xa;EOF" ID="ID_423150656" CREATED="1583974104160" MODIFIED="1583974150181"/>
</node>
<node TEXT="CRI-O" ID="ID_1407969058" CREATED="1583974234890" MODIFIED="1583974239254">
<node TEXT="deb package: cri-o" ID="ID_882625337" CREATED="1583974278599" MODIFIED="1583974299207"/>
</node>
<node TEXT="containerd" ID="ID_1955868763" CREATED="1583974342417" MODIFIED="1583974346484">
<node TEXT="deb package: containerd.io" ID="ID_284059753" CREATED="1583974347809" MODIFIED="1583974361618"/>
<node TEXT="cat &gt; /etc/containerd/config.toml &lt;&lt;EOF&#xa;plugins.cri.systemd_cgroup = true&#xa;EOF" ID="ID_1736413321" CREATED="1583974435007" MODIFIED="1583974505909"/>
</node>
<node TEXT="kubelet" ID="ID_29924985" CREATED="1583974911397" MODIFIED="1583974914956">
<node TEXT="debian" ID="ID_1207902109" CREATED="1583974919279" MODIFIED="1583975015154">
<node TEXT="cat &gt; /etc/default/kubelet &lt;&lt;EOF&#xa;KUBELET_EXTRA_ARGS=--cgroup-driver=systemd&#xa;EOF" ID="ID_47151953" CREATED="1583975029461" MODIFIED="1583975035670"/>
</node>
<node TEXT="RHEL" ID="ID_1295645002" CREATED="1583975015852" MODIFIED="1583975020881">
<node TEXT="cat &gt; /etc/sysconfig/kubelet &lt;&lt;EOF&#xa;KUBELET_EXTRA_ARGS=--cgroup-driver=systemd&#xa;EOF" ID="ID_1619876847" CREATED="1583975022600" MODIFIED="1583975042646"/>
</node>
</node>
</node>
<node TEXT="container hooks" POSITION="left" ID="ID_1753584080" CREATED="1583975737288" MODIFIED="1583975742474">
<edge COLOR="#7c7c00"/>
<node TEXT="Event" ID="ID_1439821870" CREATED="1583975870537" MODIFIED="1583975871938">
<node TEXT="PostStart" ID="ID_378492976" CREATED="1583975742645" MODIFIED="1583975745352"/>
<node TEXT="PreStop" ID="ID_1035481930" CREATED="1583975745633" MODIFIED="1583975748352"/>
</node>
<node TEXT="implementation" ID="ID_460980981" CREATED="1583975877785" MODIFIED="1583975883063">
<node TEXT="shell" ID="ID_1370968136" CREATED="1583975883305" MODIFIED="1583975886700"/>
<node TEXT="HTTP request" ID="ID_455092490" CREATED="1583975887121" MODIFIED="1583975890920"/>
</node>
<node TEXT="blocking" ID="ID_172431442" CREATED="1583975943030" MODIFIED="1583975946859"/>
<node TEXT="hook may be called multiple time for the same event" ID="ID_772627850" CREATED="1583976060850" MODIFIED="1583976087377"/>
<node TEXT="debug" ID="ID_471949265" CREATED="1583976133942" MODIFIED="1583976135931">
<node TEXT="check FailedPostStartHook or FailedPreStopHook event using kubectl describe pod/&lt;name&gt;" ID="ID_1308890782" CREATED="1583976139363" MODIFIED="1583976206796"/>
</node>
</node>
<node TEXT="admission controller" POSITION="left" ID="ID_1986030744" CREATED="1584190352842" MODIFIED="1584190362105">
<edge COLOR="#ff0000"/>
<node TEXT="flexible" ID="ID_1638106258" CREATED="1584190367326" MODIFIED="1584190380489">
<node TEXT="ValidatingAdmissionWebhooks" ID="ID_612363387" CREATED="1584190382791" MODIFIED="1584190398102"/>
<node TEXT="MutingAdmissionWebhooks" ID="ID_1068887887" CREATED="1584190398565" MODIFIED="1584190422118"/>
</node>
<node TEXT="security" ID="ID_1920211010" CREATED="1584190668001" MODIFIED="1584190675295">
<node TEXT="restrict image pull registry" ID="ID_1279110683" CREATED="1584190677034" MODIFIED="1584190696902"/>
<node TEXT="reject insecure deployment" ID="ID_1812370156" CREATED="1584190699736" MODIFIED="1584190727490"/>
<node TEXT="disabled privileged container" ID="ID_1176420355" CREATED="1584190755040" MODIFIED="1584190774887"/>
</node>
<node TEXT="governance" ID="ID_262884923" CREATED="1584190829373" MODIFIED="1584190847959">
<node TEXT="conformant labels, annotations" ID="ID_1804092950" CREATED="1584190849707" MODIFIED="1584190871227"/>
</node>
</node>
<node TEXT="operator" POSITION="left" ID="ID_1196409450" CREATED="1592617602051" MODIFIED="1592617606448">
<edge COLOR="#0000ff"/>
<node TEXT="encode knowledge to run complex software in kubernetes" ID="ID_811837255" CREATED="1592617609420" MODIFIED="1592617746018"/>
</node>
</node>
</map>
